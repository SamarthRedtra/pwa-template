var ye=Object.defineProperty,ge=Object.defineProperties;var ke=Object.getOwnPropertyDescriptors;var se=Object.getOwnPropertySymbols;var Se=Object.prototype.hasOwnProperty,we=Object.prototype.propertyIsEnumerable;var ie=(d,e,t)=>e in d?ye(d,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):d[e]=t,I=(d,e)=>{for(var t in e||(e={}))Se.call(e,t)&&ie(d,t,e[t]);if(se)for(var t of se(e))we.call(e,t)&&ie(d,t,e[t]);return d},B=(d,e)=>ge(d,ke(e));var U=(d,e,t)=>new Promise((l,i)=>{var a=o=>{try{n(t.next(o))}catch(r){i(r)}},s=o=>{try{n(t.throw(o))}catch(r){i(r)}},n=o=>o.done?l(o.value):Promise.resolve(o.value).then(a,s);n((t=t.apply(d,e)).next())});import{g as Ve,h as D,o as u,a as f,A as ee,H as J,j as V,f as E,t as g,m as le,b as c,I as $e,J as De,G as R,r as v,k as Ae,s as Fe,q as C,c as z,K as te,L as Te,y as k,d as b,u as x,w as $,n as M,F as Y,p as G,l as O,_ as j,i as Ne,D as oe,B as de,C as ne,T as Ce,v as Ee,x as Oe}from"./index-D6WzF6ad.js";import{_ as ae,A as re}from"./TextInput.vue_vue_type_script_setup_true_lang-TNnHxwuu.js";import{_ as H,a as Ue}from"./FormControl.vue_vue_type_script_setup_true_lang-C4lNgMaF.js";const ze=Ve({__name:"Badge",props:{theme:{default:"gray"},size:{default:"md"},variant:{default:"subtle"},label:{}},setup(d){const e=d,t=D(()=>{let l={gray:"text-white bg-gray-900",blue:"text-white bg-blue-500",green:"text-white bg-green-600",orange:"text-white bg-amber-600",red:"text-white bg-red-600"}[e.theme],i={gray:"text-gray-700 bg-gray-100",blue:"text-blue-600 bg-blue-100",green:"text-green-800 bg-green-200",orange:"text-amber-700 bg-amber-100",red:"text-red-600 bg-red-100"}[e.theme],a={gray:"text-gray-700 bg-white border border-gray-300",blue:"text-blue-600 bg-white border border-blue-300",green:"text-green-800 bg-white border border-green-300",orange:"text-amber-700 bg-white border border-amber-300",red:"text-red-600 bg-white border border-red-300"}[e.theme],s={gray:"text-gray-700 bg-transparent",blue:"text-blue-600 bg-transparent",green:"text-green-800 bg-transparent",orange:"text-amber-700 bg-transparent",red:"text-red-600 bg-transparent"}[e.theme],n={subtle:i,solid:l,outline:a,ghost:s}[e.variant],o={sm:"h-4 text-xs px-1.5",md:"h-5 text-xs px-1.5",lg:"h-6 text-sm px-2"}[e.size];return[n,o]});return(l,i)=>(u(),f("div",{class:ee(["inline-flex select-none items-center gap-1 rounded-full",t.value])},[l.$slots.prefix?(u(),f("div",{key:0,class:ee([e.size=="lg"?"max-h-6":"max-h-4"])},[J(l.$slots,"prefix")],2)):V("",!0),J(l.$slots,"default",{},()=>{var a;return[E(g((a=e.label)==null?void 0:a.toString()),1)]}),l.$slots.suffix?(u(),f("div",{key:1,class:ee([e.size=="lg"?"max-h-6":"max-h-4"])},[J(l.$slots,"suffix")],2)):V("",!0)],2))}});class je{constructor(){this.listeners={},this.failed=!1}on(e,t){this.listeners[e]=this.listeners[e]||[],this.listeners[e].push(t)}trigger(e,t){(this.listeners[e]||[]).forEach(i=>{i.call(this,t)})}upload(e,t){return new Promise((l,i)=>{let a=new XMLHttpRequest;a.upload.addEventListener("loadstart",()=>{this.trigger("start")}),a.upload.addEventListener("progress",o=>{o.lengthComputable&&this.trigger("progress",{uploaded:o.loaded,total:o.total})}),a.upload.addEventListener("load",()=>{this.trigger("finish")}),a.addEventListener("error",()=>{this.trigger("error"),i()}),a.onreadystatechange=()=>{if(a.readyState==XMLHttpRequest.DONE){let o;if(a.status===200){let r=null;try{r=JSON.parse(a.responseText)}catch(A){r=a.responseText}let m=r.message||r;l(m)}else if(a.status===403)o=JSON.parse(a.responseText);else{this.failed=!0;try{o=JSON.parse(a.responseText)}catch(r){}}o&&o.exc&&console.error(JSON.parse(o.exc)[0]),i(o)}};const s=t.upload_endpoint||"/api/method/upload_file";a.open("POST",s,!0),a.setRequestHeader("Accept","application/json"),window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&a.setRequestHeader("X-Frappe-CSRF-Token",window.csrf_token);let n=new FormData;e&&n.append("file",e,e.name),n.append("is_private",t.private?"1":"0"),n.append("folder",t.folder||"Home"),t.file_url&&n.append("file_url",t.file_url),t.doctype&&n.append("doctype",t.doctype),t.docname&&n.append("docname",t.docname),t.fieldname&&n.append("fieldname",t.fieldname),t.method&&n.append("method",t.method),t.type&&n.append("type",t.type),a.send(n)})}}const Le={name:"FileUploader",props:["fileTypes","uploadArgs","validateFile"],data(){return{uploader:null,uploading:!1,uploaded:0,error:null,message:"",total:0,file:null,finishedUploading:!1}},computed:{progress(){let d=Math.floor(this.uploaded/this.total*100);return isNaN(d)?0:d},success(){return this.finishedUploading&&!this.error}},methods:{inputRef(){return this.$refs.input},openFileSelector(){this.$refs.input.click()},onFileAdd(d){return U(this,null,function*(){if(this.error=null,this.file=d.target.files[0],this.file&&this.validateFile)try{let e=yield this.validateFile(this.file);e&&(this.error=e)}catch(e){this.error=e}this.error||this.uploadFile(this.file)})},uploadFile(d){return U(this,null,function*(){this.error=null,this.uploaded=0,this.total=0,this.uploader=new je,this.uploader.on("start",()=>{this.uploading=!0}),this.uploader.on("progress",e=>{this.uploaded=e.uploaded,this.total=e.total}),this.uploader.on("error",()=>{this.uploading=!1,this.error="Error Uploading File"}),this.uploader.on("finish",()=>{this.uploading=!1,this.finishedUploading=!0}),this.uploader.upload(d,this.uploadArgs||{}).then(e=>{this.$emit("success",e)}).catch(e=>{this.uploading=!1;let t="Error Uploading File";e!=null&&e._server_messages?t=JSON.parse(JSON.parse(e._server_messages)[0]).message:e!=null&&e.exc&&(t=JSON.parse(e.exc)[0].split(`
`).slice(-2,-1)[0]),this.error=t,this.$emit("failure",e)})})}},expose:["inputRef"]},Ie=["accept"];function Re(d,e,t,l,i,a){return u(),f("div",null,[c("input",{ref:"input",type:"file",accept:t.fileTypes,class:"hidden",onChange:e[0]||(e[0]=(...s)=>a.onFileAdd&&a.onFileAdd(...s))},null,40,Ie),J(d.$slots,"default",$e(De({file:i.file,uploading:i.uploading,progress:a.progress,uploaded:i.uploaded,message:i.message,error:i.error,total:i.total,success:a.success,openFileSelector:a.openFileSelector})))])}const qe=le(Le,[["render",Re]]);class Pe{constructor(){this.callbacks={},this.callbacks.base={}}on(e,t){const l=this;return typeof e=="undefined"||e===""?(console.warn("wrong names"),!1):typeof t=="undefined"?(console.warn("wrong callback"),!1):(this.resolveNames(e).forEach(function(a){const s=l.resolveName(a);l.callbacks[s.namespace]instanceof Object||(l.callbacks[s.namespace]={}),l.callbacks[s.namespace][s.value]instanceof Array||(l.callbacks[s.namespace][s.value]=[]),l.callbacks[s.namespace][s.value].push(t)}),this)}off(e){const t=this;return typeof e=="undefined"||e===""?(console.warn("wrong name"),!1):(this.resolveNames(e).forEach(function(i){const a=t.resolveName(i);if(a.namespace!=="base"&&a.value==="")delete t.callbacks[a.namespace];else if(a.namespace==="base")for(const s in t.callbacks)t.callbacks[s]instanceof Object&&t.callbacks[s][a.value]instanceof Array&&(delete t.callbacks[s][a.value],Object.keys(t.callbacks[s]).length===0&&delete t.callbacks[s]);else t.callbacks[a.namespace]instanceof Object&&t.callbacks[a.namespace][a.value]instanceof Array&&(delete t.callbacks[a.namespace][a.value],Object.keys(t.callbacks[a.namespace]).length===0&&delete t.callbacks[a.namespace])}),this)}trigger(e,t){if(typeof e=="undefined"||e==="")return console.warn("wrong name"),!1;const l=this;let i=null;console.log("before args",t);const a=t instanceof Array?t:[t];console.log("after args",a);let s=this.resolveNames(e);if(s=this.resolveName(s[0]),s.namespace==="base")for(const n in l.callbacks)l.callbacks[n]instanceof Object&&l.callbacks[n][s.value]instanceof Array&&l.callbacks[n][s.value].forEach(function(o){o.apply(l,a)});else if(this.callbacks[s.namespace]instanceof Object){if(s.value==="")return console.warn("wrong name"),this;l.callbacks[s.namespace][s.value].forEach(function(n){n.apply(l,a)})}return i}resolveNames(e){let t=e;return t=t.replace(/[^a-zA-Z0-9 ,/.]/g,""),t=t.replace(/[,/]+/g," "),t=t.split(" "),t}resolveName(e){const t={},l=e.split(".");return t.original=e,t.value=l[0],t.namespace="base",l.length>1&&l[1]!==""&&(t.namespace=l[1]),t}}class Be extends Pe{constructor(e,t,l=null){super(),this.doctype=e,this.name=l,this.fields=R([]),this.dirty=!1,this.Frm=t,this.Docstatus=v(0),this.Saved=v(0),this.Submit=v(0),this.Amend=v(0),this.workflowStatus=v(!1),this.workflow_state=v(""),this.recordRetrieve=v(0),this.roles=[],this.style=v(""),this.status=v([]),this.child=v(0),this.router=Ae(),this.transition=v([]),this.username=D(()=>Fe.user),this.attachValues=R([]),this.action=v(""),this.data=v({}),this.doc=R({docstatus:0}),this.submitable=v(0),this.on("name",i=>{this.dirty=!0})}initFields(){return U(this,null,function*(){const e=C({doctype:"Workflow",fields:["*"],filters:{document_type:this.doctype}});e.reload().then(()=>{e.data.forEach(i=>{if(i.is_active){this.workflowStatus=!0;const a=z({url:"frappe.desk.form.load.getdoc",method:"GET",params:{doctype:"Workflow",name:i.name,_:Date.now()}});a.fetch().then(()=>{this.status=a.data.docs[0].states,this.transition=a.data.docs[0].transitions})}})});const t=z({url:"frappe.desk.form.load.getdoc",method:"GET",params:{doctype:"User",name:this.username,_:Date.now()}});t.fetch().then(()=>{t.data.docs[0].roles.forEach(i=>{this.roles.push(i.roles)})});const l=z({url:"pwa_template.utils.get_form_meta",method:"POST",params:{form_name:this.Frm,doctype_name:this.doctype}});l.fetch().then(()=>{if(this.data=l.data,this.fields=l.data.form_fields,this.submitable=l.data.is_submittable,this.child=l.data.is_child_table,this.doc={},this.name!=null){const i=z({url:"frappe.desk.form.load.getdoc",method:"GET",params:{doctype:this.doctype,name:this.name,_:Date.now()}});i.reload().then(()=>{const a=i.data.docs[0];i.data.docs[0].docstatus==0?(this.Docstatus=i.data.docs[0].docstatus,this.Saved=1):(i.data.docs[0].docstatus==1||i.data.docs[0].docstatus==2)&&(this.Docstatus=i.data.docs[0].docstatus,this.Submit=1,this.Saved=1),this.workflowStatus&&(this.workflow_state=i.data.docs[0].workflow_state,this.styles()),Object.keys(a).forEach(s=>{this.doc[s]=a[s]}),this.updateFields()})}})})}workflow(){this.doc.doctype=this.doctype;const e=z({url:"frappe.model.workflow.apply_workflow",method:"POST",params:{doc:this.doc,action:this.action}});e.fetch().then(()=>{Object.entries(e.data).forEach(([t,l])=>{this.doc[t]=l}),this.actions(e.data)})}actions(e){this.doc.doctype=this.doctype;const t=z({url:"frappe.model.workflow.get_transitions",method:"POST",params:{doc:e}});t.fetch().then(()=>t.data.length>0?(this.workflow_state=t.data[0].state,this.action=t.data[0].action,this.styles(),!0):(this.workflow_state=this.doc.workflow_state,this.action="",this.styles(),!0))}styles(){const e=C({doctype:"Workflow State",fields:["style"],filters:{name:this.workflow_state}});e.reload().then(()=>{this.style=e.data[0].style})}updateFields(){this.fields.forEach(e=>{this.doc.hasOwnProperty(e.fieldname)&&(e.value=this.doc[e.fieldname]),this.workflowStatus&&this.actions(this.doc)}),this.recordRetrieve=1}getValue(e){return this.doc[e]||null}setValue(e,t){this.dirty=!0,this.doc[e]=t}setTableValue(e,t,l,i){this.doc[l]||(this.doc[l]=[]),this.doc[l][i]||(this.doc[l][i]={}),this.doc[l][i][e]=t}removeTableVale(e,t){Array.isArray(this.doc[e])&&this.doc[e].splice(t,1)}isNew(){return!!this.name}save(){if(this.validateMandatory()){this.dirty=!1;const e=C({doctype:this.doctype});if(["creation","docstatus","idx","modified","modified_by","owner","doctype"].forEach(l=>{delete this.doc[l]}),this.doc.name){let l=this.doc.name;this.doc.amended_from=l;let i=l.split("-"),a=i[0],s=i.length>1?parseInt(i[1])+1:1;this.doc.name=`${a}-${s}`}return e.insert.submit(this.doc).then(l=>(Object.assign(this.doc,l),this.Saved=1,this.updateFields(),this.name=this.doc.name,this.Docstatus=0,this.fields.forEach(i=>{i.fieldtype==="Attach"?this.attachValues.forEach(a=>{if(a.FeildName===i.fieldname){const s=C({doctype:"File",filters:{name:a.name}});s.setValue.submit({name:a.name,attached_to_doctype:this.doctype,attached_to_name:l.name,attached_to_field:a.FeildName}),s.fetch()}}):typeof i.value=="object"&&i.value!=null&&i.value.forEach(a=>{a.fieldtype==="Attach"&&this.attachValues.forEach(s=>{if(console.log(s.FeildName,"++++++++++++++++++",a.fieldname),s.FeildName===a.fieldname){const n=C({doctype:"File",filters:{name:s.name}});n.setValue.submit({name:s.name,attached_to_doctype:this.doctype,attached_to_name:l.name,attached_to_field:s.FeildName}),n.fetch()}})})}),l.name)).catch(l=>{throw console.log(l),new Error("Error saving document")})}else return Promise.reject(new Error("Validation failed"))}update(){const e=I({},this.doc);delete e.modified_by,delete e.modified,C({doctype:this.doctype,filters:{name:this.name}}).setValue.submit(e).then(()=>this.Saved=1)}submit(e){if(this.validateMandatory()){this.dirty=!1;const t=C({doctype:this.doctype,filters:{name:e}});return t.reload().then(()=>t.setValue.submit({name:e,docstatus:1})).then(l=>(this.Docstatus=1,this.Submit=1,l.docstatus)).catch(l=>{throw console.log(l),new Error("Error submitting document")})}else return Promise.reject(new Error("Validation failed"))}delete(e){const t=v("");return te({doctype:this.doctype,name:e}).delete.submit().then(i=>(t.value="Document Deleted successfully",t.value)).catch(i=>(console.error(i),t.value="Error deleting document",t.value))}cancel(e){this.dirty=!1;const t=C({doctype:this.doctype,filters:{name:e}});return t.reload().then(()=>t.setValue.submit({name:e,docstatus:2})).then(l=>(this.Docstatus=2,l.docstatus)).catch(l=>{throw console.log(l),new Error("Error Canceling document")})}amend(){return U(this,null,function*(){["creation","docstatus","idx","modified","modified_by","owner","doctype"].forEach(t=>{delete this.doc[t]}),te({doctype:this.doctype,name:this.name});try{this.Docstatus=0,this.Saved=0,this.router.push({name:"Form",query:{frmname:this.Frm,doctype:this.doctype}})}catch(t){console.error("Error:",t)}})}isDirty(){return this.dirty}validateMandatory(){for(let e of this.fields)if(e.reqd&&!this.doc[e.fieldname])return alert(`Error: ${this.doctype} has no value in ${e.label}`),!1;return!0}}const Il=Te("form",{state:()=>({form:R(new Be("Sampel"))}),actions:{initForm(){return U(this,null,function*(){yield this.form.initFields()})},setForm(d){this.form=R(d)}}}),Me={class:"p-2"},He={class:"flex"},Je={class:"text-[12px] text-gray-600"},Ye={key:0,class:"text-[12px] text-red-500 pl-1"},W={__name:"Text",props:["field","frm","table","idx","idexValue"],setup(d){const{field:e,frm:t,table:l,idx:i,idexValue:a}=d,s=v(""),n=D(()=>e.read_only==1||t.Docstatus==1||t.Docstatus==2);if(k(t,o=>{e.value&&(s.value=e.value)}),a>=0){let o=t.doc[l][a][e.fieldname];s.value=o}return k(s,o=>{l?a>=0?t.setTableValue(e.fieldname,o,l,a):t.setTableValue(e.fieldname,o,l,i):t.setValue(e.fieldname,o),o&&(l?a>=0?t.doc[l][a][e.fieldname]!=e.value&&(e.value=null,t.Saved=0,t.Submit=0,t.Amend=0):t.doc[l][i][e.fieldname]!=e.value&&(e.value=null,t.Saved=0,t.Submit=0,t.Amend=0):t.doc[e.fieldname]!=e.value&&(e.value=null,t.Saved=0,t.Submit=0,t.Amend=0))}),(o,r)=>(u(),f("div",Me,[c("div",He,[c("p",Je,g(d.field.label),1),d.field.reqd==1?(u(),f("p",Ye,"*")):V("",!0)]),b(x(ae),{type:"text",size:"sm",variant:"subtle",placeholder:d.field.label,disabled:n.value,modelValue:s.value,"onUpdate:modelValue":r[0]||(r[0]=m=>s.value=m)},null,8,["placeholder","disabled","modelValue"])]))}},Ge={class:"p-2"},We={class:"flex"},Xe={class:"text-[12px] text-gray-600"},Ke={key:0,class:"text-[12px] text-red-500 pl-1"},X={__name:"Select",props:["field","frm","table","idx","idexValue"],setup(d){const{field:e,frm:t,table:l,idx:i,idexValue:a}=d,s=v(""),n=D(()=>e.read_only==1||t.Docstatus==1||t.Docstatus==2);if(a>=0){let o=t.doc[l][a][e.fieldname];s.value=o}return k(t,o=>{e.value&&(s.value=e.value)}),k(()=>s.value,o=>{var m;const r=(m=o==null?void 0:o.value)!=null?m:o;s.value=r,l?a>=0?t.setTableValue(e.fieldname,r,l,a):t.setTableValue(e.fieldname,r,l,i):t.setValue(e.fieldname,r),o&&(l?a>=0?t.doc[l][a][e.fieldname]!=e.value&&(e.value=null,t.Saved=0,t.Submit=0,t.Amend=0):t.doc[l][i][e.fieldname]!=e.value&&(e.value=null,t.Saved=0,t.Submit=0,t.Amend=0):t.doc[e.fieldname]!=e.value&&(e.value=null,t.Saved=0,t.Submit=0,t.Amend=0))}),(o,r)=>(u(),f("div",Ge,[c("div",We,[c("p",Xe,g(d.field.label),1),d.field.reqd==1?(u(),f("p",Ke,"*")):V("",!0)]),b(x(re),{class:"mt-1",options:d.field.options,modelValue:s.value,"onUpdate:modelValue":r[0]||(r[0]=m=>s.value=m),size:"sm",variant:"subtle",label:d.field.label,placeholder:d.field.label,disabled:n.value,"hide-search":"true"},null,8,["options","modelValue","label","placeholder","disabled"])]))}},Ze={class:"p-2"},ce={__name:"Badge",props:["field","frm"],setup(d){const{field:e,frm:t}=d;return t.setValue(e.fieldname,e.label),(l,i)=>(u(),f("div",Ze,[b(x(ze),{type:"text",size:"lg",theme:"gray",variant:"ghost",label:l.value},{default:$(()=>[E(g(d.field.label),1)]),_:1},8,["label"])]))}},Qe={class:"p-2"},et={class:"flex"},tt={class:"text-[12px] text-gray-600"},lt={key:0,class:"text-[12px] text-red-500 pl-1"},ue={__name:"Int",props:["field","frm","table","idx","idexValue"],setup(d){const{field:e,frm:t,table:l,idx:i,idexValue:a}=d,s=v(""),n=D(()=>e.read_only==1||t.Docstatus==1||t.Docstatus==2);if(k(s,o=>{const r=parseInt(o,10);l?a>=0?t.setTableValue(e.fieldname,isNaN(r)?"":r,l,a):t.setTableValue(e.fieldname,isNaN(r)?"":r,l,i):t.setValue(e.fieldname,isNaN(r)?"":r),o&&(l?a>=0?t.doc[l][a][e.fieldname]!=e.value&&(e.value=null,t.Saved=0,t.Submit=0,t.Amend=0):t.doc[l][i][e.fieldname]!=e.value&&(e.value=null,t.Saved=0,t.Submit=0,t.Amend=0):t.doc[e.fieldname]!=e.value&&(e.value=null,t.Saved=0,t.Submit=0,t.Amend=0))}),a>=0){let o=t.doc[l][a][e.fieldname];s.value=o}return k(t,o=>{e.value&&(s.value=e.value)}),(o,r)=>(u(),f("div",Qe,[c("div",et,[c("p",tt,g(d.field.label),1),d.field.reqd==1?(u(),f("p",lt,"*")):V("",!0)]),b(x(ae),{type:"number",size:"sm",variant:"subtle",placeholder:d.field.label,disabled:n.value,modelValue:s.value,"onUpdate:modelValue":r[0]||(r[0]=m=>s.value=m),class:"mt-1"},null,8,["placeholder","disabled","modelValue"])]))}},at={class:"p-2"},st={class:"flex"},it={class:"text-[12px] text-gray-600"},ot={key:0,class:"text-[12px] text-red-500 pl-1"},fe={__name:"DateTime",props:["field","frm","table","idx","idexValue"],setup(d){const{field:e,frm:t,table:l,idx:i,idexValue:a}=d,s=v(e.value||""),n=D(()=>e.read_only==1||t.Docstatus==1||t.Docstatus==2);if(k(s,o=>{l?a>=0?t.setTableValue(e.fieldname,o,l,a):t.setTableValue(e.fieldname,o,l,i):t.setValue(e.fieldname,o),o&&(l?a>=0?t.doc[l][a][e.fieldname]!=e.value&&(e.value=null,t.Saved=0,t.Submit=0,t.Amend=0):t.doc[l][i][e.fieldname]!=e.value&&(e.value=null,t.Saved=0,t.Submit=0,t.Amend=0):t.doc[e.fieldname]!=e.value&&(e.value=null,t.Saved=0,t.Submit=0,t.Amend=0))}),M(()=>{t.Saved==1&&(retriveValue=e.value,s.value=retriveValue)}),k(t,o=>{e.value&&(s.value=e.value)}),a>=0){let o=t.doc[l][a][e.fieldname];s.value=o}return(o,r)=>(u(),f("div",at,[c("div",st,[c("p",it,g(d.field.label),1),d.field.reqd==1?(u(),f("p",ot,"*")):V("",!0)]),b(x(H),{modelValue:s.value,"onUpdate:modelValue":r[0]||(r[0]=m=>s.value=m),type:"datetime-local",size:"sm",variant:"subtle",placeholder:d.field.label,disabled:n.value},null,8,["modelValue","placeholder","disabled"])]))}},dt={class:"p-2"},nt={class:"flex"},rt={class:"text-[12px] text-gray-600"},ct={key:0,class:"text-[12px] text-red-500 pl-1"},me={__name:"Autocomplete",props:["field","frm"],setup(d){const{field:e,frm:t}=d,l=D(()=>e.read_only==1||t.Docstatus==1||t.Docstatus==2);return k(()=>e.value,i=>{var s;const a=(s=i==null?void 0:i.value)!=null?s:i;e.value=a,t.setValue(e.fieldname,a),e.value&&t.doc[e.fieldname]!=e.value&&(e.value=null,t.Saved=0,t.Submit=0,t.Amend=0)}),(i,a)=>(u(),f("div",dt,[c("div",nt,[c("p",rt,g(d.field.label),1),d.field.reqd==1?(u(),f("p",ct,"*")):V("",!0)]),b(x(re),{options:d.field.options,modelValue:d.field.value,"onUpdate:modelValue":a[0]||(a[0]=s=>d.field.value=s),size:"sm",variant:"subtle",label:d.field.label,placeholder:d.field.label,disabled:l.value,class:"mt-1"},null,8,["options","modelValue","label","placeholder","disabled"])]))}},ut={class:"p-2"},ft={class:"flex"},mt={class:"text-[12px] text-gray-600"},ht={key:0,class:"text-[12px] text-red-500 pl-1"},he={__name:"Date",props:["field","frm","table","idx","idexValue"],setup(d){const{field:e,frm:t,table:l,idx:i,idexValue:a}=d,s=v(e.value||""),n=D(()=>e.read_only==1||t.Docstatus==1||t.Docstatus==2);if(a>=0){let o=t.doc[l][a][e.fieldname];s.value=o}return k(s,o=>{l?a>=0?t.setTableValue(e.fieldname,o,l,a):t.setTableValue(e.fieldname,o,l,i):t.setValue(e.fieldname,o),o&&(l?a>=0?t.doc[l][a][e.fieldname]!=e.value&&(e.value=null,t.Saved=0,t.Submit=0,t.Amend=0):t.doc[l][i][e.fieldname]!=e.value&&(e.value=null,t.Saved=0,t.Submit=0,t.Amend=0):t.doc[e.fieldname]!=e.value&&(e.value=null,t.Saved=0,t.Submit=0,t.Amend=0))}),(o,r)=>(u(),f("div",ut,[c("div",ft,[c("p",mt,g(d.field.label),1),d.field.reqd==1?(u(),f("p",ht,"*")):V("",!0)]),b(x(H),{modelValue:s.value,"onUpdate:modelValue":r[0]||(r[0]=m=>s.value=m),type:"date",size:"sm",variant:"subtle",placeholder:d.field.label,disabled:n.value},null,8,["modelValue","placeholder","disabled"])]))}},vt={class:"p-3"},pt={class:"flex"},bt={key:0,class:"text-[12px] text-red-500 pl-1"},ve={__name:"Checkbox",props:{field:Object,frm:Object,idexValue:Number,table:String,idx:Number},setup(d){const e=d,t=v(!1),l=D(()=>e.field.read_only==1||e.frm.Docstatus==1||e.frm.Docstatus==2);return k(t,i=>{i?i=1:i=0,e.table?e.idexValue>=0?e.frm.setTableValue(e.field.fieldname,i,e.table,e.idexValue):e.frm.setTableValue(e.field.fieldname,i,e.table,e.idx):e.frm.setValue(e.field.fieldname,i),i&&(e.table?e.idexValue>=0?e.frm.doc[e.table][e.idexValue][e.field.fieldname]!=e.field.value&&(e.field.value=null,e.frm.Saved=0,e.frm.Submit=0,e.frm.Amend=0):e.frm.doc[e.table][e.idx][e.field.fieldname]!=e.field.value&&(e.field.value=null,e.frm.Saved=0,e.frm.Submit=0,e.frm.Amend=0):e.frm.doc[e.field.fieldname]!=e.field.value&&(e.field.value=null,e.frm.Saved=0,e.frm.Submit=0,e.frm.Amend=0))}),k(()=>e.frm,i=>{e.field.value===0?t.value=!1:e.field.value===1?t.value=!0:t.value=!1},{immediate:!0}),e.idexValue>=0&&(e.frm.doc[e.table][e.idexValue][e.field.fieldname]===0?t.value=!1:t.value=!0),M(()=>{e.field.value&&(t.value=e.field.value)}),(i,a)=>(u(),f("div",vt,[c("div",pt,[e.field.reqd==1?(u(),f("p",bt,"*")):V("",!0)]),b(x(Ue),{modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=s=>t.value=s),size:"sm",label:d.field.label,disabled:l.value},null,8,["modelValue","label","disabled"])]))}},_t={class:"p-2"},xt={class:"flex"},yt={class:"text-[12px] text-gray-600"},gt={key:0,class:"text-[12px] text-red-500 pl-1"},K={__name:"Textarea",props:["field","frm","table","idx","idexValue"],setup(d){const{field:e,frm:t,table:l,idx:i,idexValue:a}=d,s=v(""),n=D(()=>e.read_only==1||t.Docstatus==1||t.Docstatus==2);if(k(t,o=>{e.value&&(s.value=e.value)}),a>=0){let o=t.doc[l][a][e.fieldname];s.value=o}return k(s,o=>{l?a>=0?t.setTableValue(e.fieldname,o,l,a):t.setTableValue(e.fieldname,o,l,i):t.setValue(e.fieldname,o),o&&(l?a>=0?t.doc[l][a][e.fieldname]!=e.value&&(e.value=null,t.Saved=0,t.Submit=0,t.Amend=0):t.doc[l][i][e.fieldname]!=e.value&&(e.value=null,t.Saved=0,t.Submit=0,t.Amend=0):t.doc[e.fieldname]!=e.value&&(e.value=null,t.Saved=0,t.Submit=0,t.Amend=0))}),(o,r)=>(u(),f("div",_t,[c("div",xt,[c("p",yt,g(d.field.label),1),d.field.reqd==1?(u(),f("p",gt,"*")):V("",!0)]),b(x(H),{type:"textarea",size:"sm",variant:"subtle",placeholder:d.field.label,disabled:n.value,modelValue:s.value,"onUpdate:modelValue":r[0]||(r[0]=m=>s.value=m)},null,8,["placeholder","disabled","modelValue"])]))}},kt={class:"p-2"},St={class:"flex"},wt={class:"text-[12px] text-gray-600"},Vt={key:0,class:"text-[12px] text-red-500 pl-1"},pe={__name:"Float",props:["field","frm","table","idx","idexValue"],setup(d){const{field:e,frm:t,table:l,idx:i,idexValue:a}=d,s=v(""),n=D(()=>e.read_only==1||t.Docstatus==1||t.Docstatus==2);M(()=>{let r;if(a>=0?r=t.doc[l][a][e.fieldname]:r=e.value,r!=null){const m=parseFloat(r);isNaN(m)||(s.value=m.toFixed(3))}}),k(s,r=>{const m=parseInt(r);isNaN(m)||(l?a>=0?t.setTableValue(e.fieldname,m,l,a):t.setTableValue(e.fieldname,m,l,i):t.setValue(e.fieldname,m)),r&&(l?a>=0?t.doc[l][a][e.fieldname]!=e.value&&(e.value=null,t.Saved=0,t.Submit=0,t.Amend=0):t.doc[l][i][e.fieldname]!=e.value&&(e.value=null,t.Saved=0,t.Submit=0,t.Amend=0):t.doc[e.fieldname]!=e.value&&(e.value=null,t.Saved=0,t.Submit=0,t.Amend=0))});const o=()=>{if(s.value!==""){const r=parseFloat(s.value);isNaN(r)||(s.value=r.toFixed(3))}};return k(t,r=>{if(e.value){const m=parseFloat(e.value);isNaN(m)||(s.value=m.toFixed(3))}}),(r,m)=>(u(),f("div",kt,[c("div",St,[c("p",wt,g(d.field.label),1),d.field.reqd==1?(u(),f("p",Vt,"*")):V("",!0)]),b(x(ae),{type:"text",size:"sm",variant:"subtle",placeholder:d.field.label,disabled:n.value,modelValue:s.value,"onUpdate:modelValue":m[0]||(m[0]=A=>s.value=A),onBlur:o,class:"mt-1"},null,8,["placeholder","disabled","modelValue"])]))}},$t={class:"p-2"},Dt={class:"flex"},At={class:"text-[12px] text-gray-600"},Ft={key:0,class:"text-[12px] text-red-500 pl-1"},Tt={class:"relative w-full mt-1"},Nt={key:0,class:"absolute left-0 right-0 bg-white border border-gray-200 rounded-lg shadow-lg mt-1 z-20 max-h-48 overflow-y-auto no-scrollbar"},Ct=["onClick"],Et={key:1,class:"p-2 hover:bg-gray-200 cursor-pointer text-[12px] text-gray-600"},Ot={__name:"Link",props:["field","frm","table","idx","idexValue"],setup(d){const{field:e,frm:t,table:l,idx:i,idexValue:a}=d,s=v(""),n=v(!1),o=v([]);if(k(t,_=>{e.value&&(s.value=e.value)}),a>=0){let _=t.doc[l][a][e.fieldname];s.value=_}const r=D(()=>e.read_only==1||t.Docstatus==1||t.Docstatus==2),m=_=>{s.value=_.doctype_name,l?a>=0?t.setTableValue(e.fieldname,_.name,l,a):t.setTableValue(e.fieldname,_.name,l,i):t.setValue(e.fieldname,_.name),_.name&&(l?a>=0?t.doc[l][a][e.fieldname]!=e.value&&(e.value=null,t.Saved=0,t.Submit=0,t.Amend=0):t.doc[l][i][e.fieldname]!=e.value&&(e.value=null,t.Saved=0,t.Submit=0,t.Amend=0):t.doc[e.fieldname]!=e.value&&(e.value=null,t.Saved=0,t.Submit=0,t.Amend=0)),n.value=!1},A=(_="")=>{const y=z({url:"frappe.desk.search.search_link",method:"POST",params:{doctype:e.options,ignore_user_permissions:0,page_length:10,reference_doctype:t.doctype,txt:_}});y.fetch().then(()=>{const S=y.data;S?o.value=S.map(N=>({name:N.value,doctype_name:N.value})):o.value=[]})};return k(s,_=>{A(_)}),M(()=>{A()}),document.addEventListener("click",_=>{_.target.closest(".relative")||(n.value=!1)}),(_,y)=>(u(),f("div",$t,[c("div",Dt,[c("p",At,g(d.field.label),1),d.field.reqd==1?(u(),f("p",Ft,"*")):V("",!0)]),c("div",Tt,[b(x(H),{type:"text",size:"sm",variant:"subtle",placeholder:d.field.label,disabled:r.value,modelValue:s.value,"onUpdate:modelValue":y[0]||(y[0]=S=>s.value=S),onFocus:y[1]||(y[1]=S=>n.value=!0),class:"flex-grow w-full pt-[3px]"},null,8,["placeholder","disabled","modelValue"]),n.value?(u(),f("div",Nt,[o.value.length>0?(u(!0),f(Y,{key:0},G(o.value,S=>(u(),f("div",{key:S.name,class:"p-2 hover:bg-gray-200 cursor-pointer",onClick:N=>m(S)},g(S.doctype_name),9,Ct))),128)):(u(),f("div",Et," No Record Found "))])):V("",!0)])]))}},be=le(Ot,[["__scopeId","data-v-bd9784a9"]]),Ut={class:"p-2"},zt={class:"flex"},jt={class:"text-[12px] text-gray-600"},Lt={key:0,class:"text-[12px] text-red-500 pl-1"},_e={__name:"Currency",props:["field","frm","table","idx","idexValue"],setup(d){const{field:e,frm:t,table:l,idx:i,idexValue:a}=d,s=v(""),n=v(""),o=v([]),r=D(()=>e.read_only==1||t.Docstatus==1||t.Docstatus==2),m=()=>U(this,null,function*(){const _=C({doctype:"Company",fields:["default_currency"],orderBy:"creation desc"});yield _.reload();const y=_.data;if(y.length>0)for(const S of y){const N=C({doctype:"Currency",fields:["symbol"],filters:{name:S.default_currency},orderBy:"creation desc"});yield N.reload();const L=N.data;if(L.length>0&&o.value.push(L[0].symbol),a>=0){let q=t.doc[l][a][e.fieldname];const P=o.value.length>0?o.value[0]:"";n.value=`${P}${q}`}}});k(t,_=>{if(e.value){e.value==null?(n.value=null,s.value=0):(n.value=e.value,s.value=e.value);const y=o.value.length>0?o.value[0]:"";n.value=`${y}${s.value}`}}),k(n,_=>{let y=_.replace(/[^0-9]/g,"");s.value=y,o.value.length>0&&o.value[0],y=parseInt(y),l?a>=0?t.setTableValue(e.fieldname,y,l,a):t.setTableValue(e.fieldname,y,l,i):t.setValue(e.fieldname,y),_&&(l?a>=0?t.doc[l][a][e.fieldname]!=e.value&&(e.value=null,t.Saved=0,t.Submit=0,t.Amend=0):t.doc[l][i][e.fieldname]!=e.value&&(e.value=null,t.Saved=0,t.Submit=0,t.Amend=0):t.doc[e.fieldname]!=e.value&&(e.value=null,t.Saved=0,t.Submit=0,t.Amend=0))});const A=_=>{const S=_.target.value.replace(/[^0-9]/g,"");s.value=S;const N=o.value.length>0?o.value[0]:"";n.value=`${N}${S}`};return M(()=>{m()}),(_,y)=>(u(),f("div",Ut,[c("div",zt,[c("p",jt,g(d.field.label),1),d.field.reqd==1?(u(),f("p",Lt,"*")):V("",!0)]),b(x(H),{type:"text",size:"sm",variant:"subtle",placeholder:d.field.label,disabled:r.value,modelValue:n.value,"onUpdate:modelValue":y[0]||(y[0]=S=>n.value=S),onInput:A},null,8,["placeholder","disabled","modelValue"])]))}},It={key:0,class:"p-2"},Rt={class:"flex"},qt={class:"text-[12px] text-gray-600"},Pt={key:0,class:"text-[12px] text-red-500 pl-1"},Bt={key:1,class:"p-2"},Mt={class:"text-[12px] text-gray-600 mb-1"},Ht={class:"w-full h-[2rem] border-[1.5px] border-gray-200 rounded-lg"},Jt={class:"flex"},Yt={class:"pl-2 text-[10px] p-2 truncate w-[7rem] text-gray-600"},Gt={class:"pl-2 text-[10px] p-2 truncate w-[5rem] text-gray-600"},Wt={class:"pl-2 text-[10px] p-2 truncate w-[5rem] text-gray-600"},Xt={class:"font-semibold truncate w-[10rem]"},Kt={key:0},Zt=["src"],Qt={key:1},el=["src"],tl={key:2},ll=c("p",null,"Unsupported file type",-1),al=[ll],sl={class:"w-full bg"},il=c("h3",{class:"font-semibold"},"Confirm Deletion",-1),ol={class:"w-full bg"},dl={__name:"Attach",props:["field","frm","table","idx","idexValue","doctypeAttach"],setup(d){const{field:e,frm:t,table:l,idx:i,idexValue:a,doctypeAttach:s}=d,n=v("");if(a>=0){let w=t.doc[l][a][e.fieldname];n.value=w}else n.value=e.fieldname;const o=R({content_hash:"",creation:"",docstatus:0,doctype:"File",file_name:"",file_size:0,file_type:"",file_url:e.value,folder:"Home",idx:0,is_attachments_folder:0,is_folder:0,is_home_folder:0,is_private:0,modified:"",modified_by:"Administrator",name:"",owner:"Administrator",uploaded_to_dropbox:0,uploaded_to_google_drive:0});if(t.name){const w=C({doctype:"File",filters:{file_url:n.value},fields:["*"]});w.reload().then(()=>{if(w.data.length>0){const h=w.data[0];Object.assign(o,{content_hash:h.content_hash||"",creation:h.creation||"",docstatus:h.docstatus||0,doctype:h.doctype||"File",file_name:h.file_name||"",file_size:h.file_size||0,file_type:h.file_type||"",file_url:h.file_url||"",folder:h.folder||"Home",idx:h.idx||0,is_attachments_folder:h.is_attachments_folder||0,is_folder:h.is_folder||0,is_home_folder:h.is_home_folder||0,is_private:h.is_private||0,modified:h.modified||"",modified_by:h.modified_by||"Administrator",name:h.name||"",owner:h.owner||"Administrator",uploaded_to_dropbox:h.uploaded_to_dropbox||0,uploaded_to_google_drive:h.uploaded_to_google_drive||0}),r.value=!0}}).catch(h=>{console.error("Error loading file data:",h)})}const r=v(!1),m=v(!1),A=v(!1),_=D(()=>{if(o.file_url){const w=new URL(window.location.href);return`${w.protocol}//${w.hostname}:8001${o.file_url}`}return""}),y=D(()=>o.file_type==="JPG"||o.file_type==="PNG"||o.file_type==="SVG"),S=D(()=>o.file_type==="PDF"),N=w=>{Object.assign(o,w),r.value=!0},L=()=>{A.value=!0},q=()=>{m.value=!0},P=()=>{A.value=!0},Z=()=>{t.attachValues=t.attachValues.filter(h=>h.FeildName===e.fieldname),te({doctype:"File",name:o.name}).delete.submit().then(()=>{r.value=!1,Object.keys(o).forEach(h=>{o[h]=""}),t.attachValues=t.attachValues.filter(h=>h.name&&h.FeildName!==e.fieldname),A.value=!1}).catch(h=>{console.error("Error deleting file:",h)})};return k(o,w=>{l?a>=0?t.setTableValue(e.fieldname,w.file_url,l,a):t.setTableValue(e.fieldname,w.file_url,l,i):t.setValue(e.fieldname,w.file_url),t.attachValues.push({name:w.name,FeildName:e.fieldname}),w&&(l?a>=0?t.doc[l][a][e.fieldname]!=e.value&&(e.value=null,t.Saved=0,t.Submit=0,t.Amend=0):t.doc[l][i][e.fieldname]!=e.value&&(e.value=null,t.Saved=0,t.Submit=0,t.Amend=0):t.doc[e.fieldname]!=e.value&&(e.value=null,t.Saved=0,t.Submit=0,t.Amend=0))}),(w,h)=>(u(),f("div",null,[r.value?V("",!0):(u(),f("div",It,[c("div",Rt,[c("p",qt,g(d.field.label),1),d.field.reqd==1?(u(),f("p",Pt,"*")):V("",!0)]),b(x(qe),{fileTypes:["image/*","application/pdf"],validateFile:p=>{},onSuccess:N},{default:$(({openFileSelector:p,uploading:T,progress:F})=>[b(x(O),{onClick:p,loading:T},{default:$(()=>[E(" Attach "+g(F)+"% ",1)]),_:2},1032,["onClick","loading"])]),_:1})])),r.value?(u(),f("div",Bt,[c("p",Mt,g(d.field.label),1),c("div",Ht,[c("div",{class:"flex hover:cursor-pointer",onClick:q},[c("div",Jt,[b(x(j),{name:"link-2",class:"w-4 h-4 mt-2 ml-2 text-gray-600 hover:text-black hover:cursor-pointer"}),c("p",Yt,"Name: "+g(o.file_name),1),c("p",Gt,"Size: "+g(o.file_size),1),c("p",Wt,"URL: "+g(o.file_url),1)]),b(x(j),{name:"x",class:"w-4 h-4 mt-2 ml-auto mr-2 text-gray-600 hover:text-black hover:cursor-pointer",onClick:Ne(L,["stop"])})])])])):V("",!0),b(x(oe),{modelValue:m.value,"onUpdate:modelValue":h[1]||(h[1]=p=>m.value=p),class:"z-[200]"},{"body-title":$(()=>[c("h3",Xt,g(o.file_name),1)]),"body-content":$(()=>[y.value?(u(),f("div",Kt,[c("img",{src:_.value,alt:"Uploaded Image",class:"w-52 h-52"},null,8,Zt)])):S.value?(u(),f("div",Qt,[c("iframe",{src:_.value,class:"w-full h-[500px]",frameborder:"0"},null,8,el)])):(u(),f("div",tl,al))]),actions:$(()=>[c("div",sl,[b(x(O),{variant:"solid",onClick:P},{default:$(()=>[E(" Delete ")]),_:1}),b(x(O),{class:"ml-2",onClick:h[0]||(h[0]=p=>m.value=!1)},{default:$(()=>[E(" Close ")]),_:1})])]),_:1},8,["modelValue"]),b(x(oe),{modelValue:A.value,"onUpdate:modelValue":h[3]||(h[3]=p=>A.value=p),class:"z-[210]"},{"body-title":$(()=>[il]),"body-content":$(()=>[c("p",null,"Are you sure you want to delete this "+g(o.file_name)+" file?",1)]),actions:$(()=>[c("div",ol,[b(x(O),{variant:"solid",onClick:Z},{default:$(()=>[E(" Yes, Delete ")]),_:1}),b(x(O),{class:"ml-2",onClick:h[2]||(h[2]=p=>A.value=!1)},{default:$(()=>[E(" Cancel ")]),_:1})])]),_:1},8,["modelValue"])]))}},xe=d=>(Ee("data-v-d6a22de8"),d=d(),Oe(),d),nl={class:"p-2"},rl={class:"flex justify-between p-2"},cl={class:"text-[16px] text-gray-600"},ul={key:0,class:"max-h-[9.2rem] h-fit overflow-y-auto custom-scrollbar border-[1.5px] border-gray-300 rounded-md"},fl={key:0,class:"border-b-[0.5px] border-gray-300 w-full h-[3rem] p-2 flex content-center items-center"},ml={class:"ml-3"},hl={class:"text-[12px] text-gray-600 w-[12rem] truncate font-semibold"},vl={class:"flex mt-[2px]"},pl={class:"text-[10px] text-gray-600 w-[6rem] truncate"},bl={class:"text-[10px] text-gray-600 w-[6rem] truncate ml-2"},_l={key:1,class:"w-full h-[5rem] rounded-md mt-1 border-dashed border-[1px] border-gray-500 bg-gray-200 text-center"},xl=xe(()=>c("p",{class:"text-[12px] text-gray-700 mt-[2rem]"},"No record added",-1)),yl=[xl],gl={class:"p-2 border-b-[1.5px] border-gray-300 flex text-center"},kl={class:"font-semibold text-[20px] mt-1"},Sl={class:"flex-1 overflow-y-auto custom-scrollbar p-2"},wl={key:1,class:"p-2"},Vl={class:"text-[14px] text-gray-600 font-semibold"},$l=xe(()=>c("hr",{class:"border-gray-300"},null,-1)),Dl={class:"flex border-t-[1.5px] border-gray-200 p-4"},Al={key:0,class:"ml-auto"},Fl={key:1,class:"ml-auto"},Tl={__name:"Childtable",props:["field","frm"],setup(d){const e=d,t=v([]),l=v(!1),i=v(-1),a=v(0);let s=v(0),n=v(0);const o=v(!0);if(e.field.value){let p=e.field.value;console.log(a.value),p.forEach(T=>{t.value.push(B(I({},T),{index:a.value})),a.value+=1})}k(e.field,p=>{p.value.length>0&&o.value&&(p.value.forEach(T=>{t.value.push(B(I({},T),{index:a.value})),a.value+=1}),o.value=!1)});const r=()=>{let p=e.frm.doc;if(p[e.field.fieldname][a.value]){let T=p[e.field.fieldname];t.value.push(B(I({},T[a.value]),{index:a.value})),a.value+=1}l.value=!1},m=()=>{if(t.value.length<=0)e.frm.doc[e.field.fieldname]=[];else{let p=i.value>-1?i.value:a.value;e.frm.doc[e.field.fieldname][p]=t.value[p]}l.value=!1,i.value=-1},A=()=>{l.value=!0},_=p=>{i.value=p,l.value=!0},y=()=>{let p=e.frm.doc;if(p[e.field.fieldname]){let T=p[e.field.fieldname];const F=t.value.findIndex(Q=>Q.index===i.value);F!==-1&&(t.value[F]=B(I({},T[i.value]),{index:i.value}))}l.value=!1},S=()=>{let p=0;i.value>-1?p=i.value:p=a.value,e.frm.removeTableVale(e.field.fieldname,p),t.value=t.value.filter(T=>T.index!==i.value),t.value.forEach(T=>{T.index>p&&T.index--}),l.value=!1,i.value=-1,a.value>0&&a.value--},N=p=>{s.value=p.touches[0].clientY},L=p=>{n.value=p.touches[0].clientY},q=()=>{n.value-s.value>50&&(l.value=!1)},P=p=>{p.style.transform="translateY(100%)",setTimeout(()=>{p.style.transform="translateY(0)"},10)},Z=p=>{p.style.transform="translateY(0)",setTimeout(()=>{p.style.transform="translateY(100%)"},10)},w={Data:W,Select:X,Int:ue,Autocomplete:me,Dynamic_Link:X,Heading:ce,Datetime:fe,Date:he,Check:ve,Text:W,"Long Text":K,"Small Text":K,Float:pe,Link:be,Currency:_e,Attach:dl},h=v(e.frm.data[e.field.options]);return(p,T)=>(u(),f("div",nl,[c("div",rl,[c("p",cl,g(d.field.label),1),b(x(O),{onClick:A},{default:$(()=>[b(x(j),{name:"plus",class:"w-5 h-5 text-gray-700 hover:cursor-pointer"})]),_:1})]),t.value.length>0?(u(),f("div",ul,[(u(!0),f(Y,null,G(t.value,(F,Q)=>(u(),f("div",{key:Q,class:"w-full rounded-md"},[F.fieldtype!=="Section Break"?(u(),f("div",fl,[b(x(j),{name:"file-text",class:"w-5 h-5 text-gray-600"}),c("div",ml,[c("p",hl,g(Object.values(F)[0]),1),c("div",vl,[c("p",pl,g(Object.values(F)[1]),1),c("p",bl,g(Object.values(F)[2]),1)])]),b(x(j),{name:"arrow-right",class:"w-5 h-5 text-gray-600 ml-auto hover:cursor-pointer hover:text-black",onClick:Ol=>_(F.index)},null,8,["onClick"])])):V("",!0)]))),128))])):(u(),f("div",_l,yl)),l.value?(u(),f("div",{key:2,class:"fixed inset-0 bg-black opacity-50 z-[99] w-full sm:w-96",onClick:m})):V("",!0),b(Ce,{name:"slide-up",onEnter:P,onLeave:Z},{default:$(()=>[l.value?(u(),f("div",{key:0,ref:"modal",class:"w-full sm:w-96 fixed bottom-0 left-0 h-[85vh] bg-white border-t border-gray-300 shadow-lg z-[100] flex flex-col touch-area",onTouchstart:N,onTouchmove:L,onTouchend:q},[c("div",gl,[c("h1",kl,g(d.field.label),1),b(x(j),{name:"x",onClick:m,class:"w-6 h-6 text-gray-700 mt-2 ml-auto hover:cursor-pointer"})]),c("div",Sl,[(u(!0),f(Y,null,G(h.value,F=>(u(),f("div",{key:F.fieldname,class:"bg-white rounded-lg"},[F.fieldtype!=="Section Break"?(u(),de(ne(w[F.fieldtype]),{key:0,field:F,frm:d.frm,table:e.field.fieldname,idexValue:i.value,idx:a.value,doctypeAttach:e.field.options},null,8,["field","frm","table","idexValue","idx","doctypeAttach"])):(u(),f("div",wl,[c("p",Vl,g(F.label),1),$l]))]))),128))]),c("div",Dl,[b(x(j),{name:"trash-2",onClick:S,class:"w-6 h-6 text-red-700 mt-1 hover:cursor-pointer hover:text-red-800"}),i.value>=0?(u(),f("div",Al,[b(x(O),{variant:"solid",class:"w-[5rem] ml-auto",onClick:y},{default:$(()=>[E("Update")]),_:1})])):(u(),f("div",Fl,[b(x(O),{variant:"solid",class:"w-[5rem] ml-auto",onClick:r},{default:$(()=>[E("Add")]),_:1})]))])],544)):V("",!0)]),_:1})]))}},Nl=le(Tl,[["__scopeId","data-v-d6a22de8"]]),Cl={class:"p-2 border-2 border-gray-300 rounded-md mb-4"},El={class:"font-semibold text-gray-600 mb-2"},Rl={__name:"SectionBreak",props:["field","frm"],setup(d){const{field:e,frm:t}=d,l={Data:W,Select:X,Int:ue,Autocomplete:me,Dynamic_Link:X,Heading:ce,Datetime:fe,"Section Break":null,Date:he,Check:ve,Text:W,"Long Text":K,"Small Text":K,Float:pe,Link:be,Currency:_e,Table:Nl},i=D(()=>{const a=t.fields,s=a.indexOf(e),n=[];for(let o=s+1;o<a.length&&a[o].fieldtype!=="Section Break";o++)n.push(a[o]);return n});return(a,s)=>(u(),f("div",Cl,[c("h1",El,g(d.field.label),1),c("div",null,[(u(!0),f(Y,null,G(i.value,n=>(u(),de(ne(l[n.fieldtype]),{key:n.fieldname,field:n,frm:d.frm},null,8,["field","frm"]))),128))])]))}};export{Nl as C,be as L,W as _,X as a,ue as b,me as c,ce as d,fe as e,he as f,Rl as g,ve as h,K as i,pe as j,_e as k,dl as l,Il as u};
